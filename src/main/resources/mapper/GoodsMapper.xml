<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xph.shop.dao.GoodsMapper">
<select id="findPage" parameterType="com.xph.shop.vo.SkuVo" resultType="com.xph.shop.vo.SkuVo">
  select id,sn,status,image,name,price,num,alert_num alertNum,sale_num saleNum from tb_sku s
  <where>
    <if test="name!=null and name!=''">
      and (s.name like '%${name}%' or s.sn like '%${name}%')
    </if>
    <if test="categoryId!=null and categoryId!=''">
      and s.category_id=#{categoryId}
    </if>
    <if test="brandId!=null and brandId!=''">
      and s.brand_id=#{brandId}
    </if>
    and s.status!=3
  </where>
    order by s.create_time desc ,s.update_time desc
</select>
</mapper>